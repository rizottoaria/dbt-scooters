version: 3

sources:
  - name: "scooters_raw"
    description: "Raw data provided by scooters service"
    loader: "https://t.me/inzhenerka_dbt_bot"
    tables:
      - name: "trips"
        description: "Scooter trips"
      - name: "users"
        description: "Users of scooter service"
models:
    trips_prep:
        +materialized: view
    trips_stat:
      description: "Scooter trips statistics"
      +materialized: view
      config:
      indexes:
        - columns: ["date"]
    trips_age_daily:
      description: "Daily trips statistics by user age"
      +materialized: view
    trips_age_daily_stat:
        description: "Aggregated daily trips statistics by user age"
        +materialized: view
